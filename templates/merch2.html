[[extend 'layout.html']]

<div class="section has-background-dark" id="vue-target">
  <div class="container">
    <button class="button is-black has-text-white">Filter Results</button>
      [[for row in rows:]]
        [[if column_counter == 0:]]
          <div class="columns mt-6 mb-6">
        [[pass]]
        <div class="column is-3 has-text-centered has-text-white">
          <figure class="image">
            <img src="https://storage.googleapis.com/luca-teaching/lion-layers-2.svg">
          </figure>
          <p>[[=row.item_name]]<br>$[[=row.item_cost]]
          <br><br>
            [[if row.item_stock > 0:]]
              <button class="button is-primary has-text-white">Add To Cart</button>
            [[else:]]
              <button class="button is-primary" title="Disabled button" disabled>Out Of Stock</button>
            [[pass]]
          </p>
        </div>
      <div class="column is-1">
      </div>
      [[column_counter = column_counter + 1]]
            [[if column_counter == 3:]]
                [[column_counter = 0]]
            [[pass]]
            [[if column_counter == 0:]]
              </div>
            [[pass]]
      [[pass]]
  </div>
</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let check_admin_url = "[[=URL('check_admin')]]";
  let global_email = "[[=globals().get('user').get('email')]]";
</script>
<script src="js/merch.js"></script>
[[end]]